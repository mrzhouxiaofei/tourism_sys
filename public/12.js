webpackJsonp([12],{209:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{spots:[],keyword:"",pagination:{current:1,total:0,pageSize:20}}},methods:{search:function(){var e=this,t={page:e.pagination.current,pageSize:e.pagination.pageSize,keyword:e.keyword};axios.get("/admin/spot/lists",{params:t}).then(function(t){t?(e.spots=t.data.data,e.pagination.total=t.data.total):console.log(t.data.msg)})},deleteSpot:function(e){var t=this;this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){axios.post("/admin/spot/delete",{id:e}).then(function(e){0===e.data.code?(t.$message({title:"提示",message:e.data.msg,type:"success"}),t.search()):t.$message({title:"提示",message:e.data.msg,type:"warning"})})}).catch(function(){})},handleSizeChange:function(e){this.pagination.pageSize=e,this.search(),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pagination.current=e,this.search(),console.log("当前页: "+e)}},mounted:function(){this.search()}}},210:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"gm-breadcrumb"},[a("i",{staticClass:"ion-ios-home gm-home"}),e._v(" "),a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("景点管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("景点列表")])],1)],1),e._v(" "),a("el-form",{attrs:{inline:!0},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}}},[a("el-form-item",[a("router-link",{attrs:{to:{path:"edit"}}},[a("el-button",[a("i",{staticClass:"ion-plus"}),e._v(" 添加景点")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{attrs:{placeholder:"地域名 / 景点名"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{attrs:{data:e.spots,border:""}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area_name",label:"地域名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"景点名"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:"edit",query:{id:t.row.id}}}},[a("el-button",{attrs:{size:"small",icon:"el-icon-edit"}},[e._v("编辑")])],1),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.deleteSpot(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{padding:"1rem 0"},attrs:{"current-page":e.pagination.current,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},268:function(e,t,a){var n=a(5)(a(209),a(210),!1,null,null,null);e.exports=n.exports}});
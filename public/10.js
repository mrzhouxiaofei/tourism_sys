webpackJsonp([10],{233:function(e,t,a){var n=a(234);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(9)("b67a1278",n,!0,{})},234:function(e,t,a){(e.exports=a(2)(!1)).push([e.i,".demo-table-expand{font-size:0}.demo-table-expand label{width:90px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}",""])},235:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{users:[],keyword:"",pagination:{current:1,total:0,pageSize:20}}},methods:{filterTag:function(e,t,a){return t[a.property]===e},search:function(){var e=this,t={page:e.pagination.current,pageSize:e.pagination.pageSize,keyword:e.keyword};axios.get("/admin/user/lists",{params:t}).then(function(t){t?(e.users=t.data.data,e.pagination.total=t.data.total):console.log(t.data.msg)})},editStatus:function(e){var t=this,a=e.id,n="1"===e.status?"0":"1";this.$confirm("确认执行吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){axios.post("/admin/user/editStatus",{id:a,status:n}).then(function(e){0===e.data.code?(t.$message({title:"提示",message:e.data.msg,type:"success"}),t.search()):t.$message({title:"提示",message:e.data.msg,type:"warning"})})}).catch(function(){})},handleSizeChange:function(e){this.pagination.pageSize=e,this.search(),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pagination.current=e,this.search(),console.log("当前页: "+e)}},mounted:function(){this.search()}}},236:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"gm-breadcrumb"},[a("i",{staticClass:"ion-ios-home gm-home"}),e._v(" "),a("el-breadcrumb",[a("el-breadcrumb-item",[e._v("用户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户列表")])],1)],1),e._v(" "),a("el-form",{attrs:{inline:!0},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}}},[a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{attrs:{placeholder:"用户名 / 昵称"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{attrs:{data:e.users,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[a("el-card",[a("el-form-item",{attrs:{label:"用户名"}},[a("span",[e._v(e._s(t.row.username))])]),e._v(" "),a("el-form-item",{attrs:{label:"昵称"}},[a("span",[e._v(e._s(t.row.nickname))])]),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[0===t.row.sex?a("span",[e._v("女")]):0===t.row.sex?a("span",[e._v("男")]):a("span",[e._v("保密")])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("span",[e._v(e._s(t.row.phone))])]),e._v(" "),a("el-form-item",{attrs:{label:"城市"}},[a("span",[e._v(e._s(t.row.city))])]),e._v(" "),a("el-form-item",{attrs:{label:"注册时间"}},[a("span",[e._v(e._s(t.row.created_at))])])],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"#"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",filters:[{text:"正常",value:"0"},{text:"禁用",value:"1"}],"filter-method":e.filterTag},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"0"===t.row.status?"success":"danger"}},["0"===t.row.status?a("span",[e._v("正常")]):a("span",[e._v("禁用")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"0"===t.row.status?"danger":"success",icon:"el-icon-edit"},on:{click:function(a){return e.editStatus(t.row)}}},["0"===t.row.status?a("span",[e._v("禁用")]):a("span",[e._v("启用")])])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{padding:"1rem 0"},attrs:{"current-page":e.pagination.current,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},273:function(e,t,a){var n=a(5)(a(235),a(236),!1,function(e){a(233)},null,null);e.exports=n.exports}});
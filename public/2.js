webpackJsonp([2],{225:function(e,t,n){var a=n(226);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(9)("7e482b67",a,!0,{})},226:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".demo-table-expand{font-size:0}.demo-table-expand label{width:90px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}",""])},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{comments:[],keyword:"",pagination:{current:1,total:0,pageSize:20}}},methods:{formatter:function(e,t){return e.content.length>10?e.content.substring(0,10)+"~~~":e.content},jumpLink:function(e){window.open(e)},search:function(){var e=this,t={page:e.pagination.current,pageSize:e.pagination.pageSize,keyword:e.keyword};axios.get("/admin/comment/lists",{params:t}).then(function(t){t?(e.comments=t.data.data,e.pagination.total=t.data.total):console.log(t.data.msg)})},deleteComment:function(e){var t=this;this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){axios.post("/admin/comment/delete",{id:e}).then(function(e){0===e.data.code?(t.$message({title:"提示",message:e.data.msg,type:"success"}),t.search()):t.$message({title:"提示",message:e.data.msg,type:"warning"})})}).catch(function(){})},handleSizeChange:function(e){this.pagination.pageSize=e,this.search(),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.pagination.current=e,this.search(),console.log("当前页: "+e)}},mounted:function(){this.search()}}},228:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"gm-breadcrumb"},[n("i",{staticClass:"ion-ios-home gm-home"}),e._v(" "),n("el-breadcrumb",[n("el-breadcrumb-item",[e._v("评论管理")]),e._v(" "),n("el-breadcrumb-item",[e._v("评论列表")])],1)],1),e._v(" "),n("el-form",{attrs:{inline:!0},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}}},[n("el-form-item",{attrs:{label:"关键字"}},[n("el-input",{attrs:{placeholder:"攻略标题 / 评论人"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),n("el-table",{attrs:{data:e.comments,border:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[n("el-card",[n("el-form-item",{attrs:{label:"攻略标题"}},[n("span",[e._v(e._s(t.row.guideline_title))])]),e._v(" "),n("el-form-item",{attrs:{label:"攻略地址"}},[n("span",[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.jumpLink(t.row.guideline_url)}}},[e._v(e._s(t.row.guideline_url))])],1)]),e._v(" "),n("el-form-item",{attrs:{label:"评论人"}},[n("span",[e._v(e._s(t.row.author))])]),e._v(" "),n("el-form-item",{attrs:{label:"评论时间"}},[n("span",[e._v(e._s(t.row.created_at))])]),e._v(" "),n("el-form-item",{attrs:{label:"评论内容"}},[n("span",[e._v(e._s(t.row.content))])])],1)],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{type:"index",label:"#"}}),e._v(" "),n("el-table-column",{attrs:{prop:"guideline_title",label:"攻略标题"}}),e._v(" "),n("el-table-column",{attrs:{prop:"author",label:"评论人"}}),e._v(" "),n("el-table-column",{attrs:{prop:"content",label:"评论内容",formatter:e.formatter}}),e._v(" "),n("el-table-column",{attrs:{prop:"created_at",label:"评论时间"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.deleteComment(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("el-pagination",{staticStyle:{padding:"1rem 0"},attrs:{"current-page":e.pagination.current,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},271:function(e,t,n){var a=n(5)(n(227),n(228),!1,function(e){n(225)},null,null);e.exports=a.exports}});